<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <title>Unidades - Sweet Donut</title>
    <style>
    body {
        background-color: #ffcdda;
    }
</style>
  </head>
  <body>
    <!-- Menu -->
    <header class="bg-light p-3 shadow-sm">
      <div class="container d-flex justify-content-between align-items-center">
        <a href="index.html">
          <img src="./imagens/logo.png" alt="Logo Sweet Donut" class="logo" />
        </a>
        <nav>
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link text-dark" href="quemSomos.html">Quem Somos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="produtos.html">Produtos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="contato.html">Contato</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="unidades.html">Unidades</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-dark cart-icon"
                href="finalizarCompra.html"
              >
                üõí Carrinho
                <span class="cart-badge" id="cart-total">0</span>
              </a>
            </li>
            <li class="nav-item auth-buttons">
              <div class="user-info" id="user-info" style="display: none;">
                <span id="user-name"></span>
              </div>
              <a class="nav-link" href="login.html" id="login-link">Entrar</a>
              <a class="nav-link" href="#" id="logout-link" style="display: none;">Sair</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="container my-5">
      <h1 class="text-center">Nossas Unidades</h1>
      <p class="text-center">Encontre a unidade mais pr√≥xima de voc√™!</p>

      <div class="row">
        <div class="col-md-4">
          <div class="card mb-4">
            <img
              src="./imagens/loja1.jpg"
              class="card-img-top"
              alt="Unidade 1"
            />
            <div class="card-body">
              <h5 class="card-title">Unidade Centro</h5>
              <p class="card-text">Endere√ßo: Av. Paulista, 1234, Centro, SP</p>
              <p class="card-text">Hor√°rio: 8h - 20h</p>
              <p class="card-text">
                Descri√ß√£o: Venha experimentar nossos donuts fresquinhos e
                deliciosos no cora√ß√£o da cidade!
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card mb-4">
            <img
              src="./imagens/loja1.jpg"
              class="card-img-top"
              alt="Unidade 2"
            />
            <div class="card-body">
              <h5 class="card-title">Unidade Jardins</h5>
              <p class="card-text">
                Endere√ßo: Rua Oscar Freire, 567, Jardins, SP
              </p>
              <p class="card-text">Hor√°rio: 9h - 22h</p>
              <p class="card-text">
                Descri√ß√£o: Uma unidade charmosa, perfeita para um lanche no meio
                da tarde.
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card mb-4">
            <img
              src="./imagens/loja1.jpg"
              class="card-img-top"
              alt="Unidade 3"
            />
            <div class="card-body">
              <h5 class="card-title">Unidade Moema</h5>
              <p class="card-text">Endere√ßo: Av. Ibirapuera, 1010, Moema, SP</p>
              <p class="card-text">Hor√°rio: 7h - 19h</p>
              <p class="card-text">
                Descri√ß√£o: Nossa unidade em Moema √© ideal para quem busca
                qualidade e conveni√™ncia.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <div class="card mb-4">
            <img
              src="./imagens/loja1.jpg"
              class="card-img-top"
              alt="Unidade 4"
            />
            <div class="card-body">
              <h5 class="card-title">Unidade Pinheiros</h5>
              <p class="card-text">
                Endere√ßo: Rua Teodoro Sampaio, 3030, Pinheiros, SP
              </p>
              <p class="card-text">Hor√°rio: 9h - 21h</p>
              <p class="card-text">
                Descri√ß√£o: Uma atmosfera descontra√≠da, perfeita para se reunir
                com amigos.
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card mb-4">
            <img
              src="./imagens/loja1.jpg"
              class="card-img-top"
              alt="Unidade 5"
            />
            <div class="card-body">
              <h5 class="card-title">Unidade Vila Madalena</h5>
              <p class="card-text">
                Endere√ßo: Av. Mourato Coelho, 2000, Vila Madalena, SP
              </p>
              <p class="card-text">Hor√°rio: 10h - 22h</p>
              <p class="card-text">
                Descri√ß√£o: Um espa√ßo vibrante, ideal para quem adora donuts e
                arte.
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card mb-4">
            <img
              src="./imagens/loja1.jpg"
              class="card-img-top"
              alt="Unidade 6"
            />
            <div class="card-body">
              <h5 class="card-title">Unidade Tatuap√©</h5>
              <p class="card-text">Endere√ßo: Rua Tuiuti, 150, Tatuap√©, SP</p>
              <p class="card-text">Hor√°rio: 8h - 20h</p>
              <p class="card-text">
                Descri√ß√£o: Sinta-se √† vontade para visitar e saborear nossas
                del√≠cias.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="bg-dark text-white py-4">
      <div class="container text-center">
        <p>&copy; 2024 Sweet Donut. Todos os direitos reservados.</p>
        <p>
          Siga-nos:
          <a href="#" class="text-white mx-2">Instagram</a> |
          <a href="#" class="text-white mx-2">Facebook</a> |
          <a href="#" class="text-white mx-2">Twitter</a>
        </p>
      </div>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script>
      // Verificar status de autentica√ß√£o
      async function checkAuth() {
        const token = localStorage.getItem('token');
        const loginLink = document.getElementById('login-link');
        const logoutLink = document.getElementById('logout-link');
        const userInfo = document.getElementById('user-info');
        const userName = document.getElementById('user-name');

        if (token) {
          try {
            // Decodificar o token para obter informa√ß√µes do usu√°rio
            const response = await fetch('http://localhost:3000/api/user', {
              headers: {
                'Authorization': `Bearer ${token}`
              }
            });
            
            if (response.ok) {
              const userData = await response.json();
              userName.textContent = `Ol√°, ${userData.name}`;
              userInfo.style.display = 'flex';
              loginLink.style.display = 'none';
              logoutLink.style.display = 'block';
            } else {
              // Se o token for inv√°lido, limpa o localStorage
              localStorage.removeItem('token');
              showLoginState();
            }
          } catch (error) {
            console.error('Erro ao verificar autentica√ß√£o:', error);
            showLoginState();
          }
        } else {
          showLoginState();
        }
      }

      function showLoginState() {
        const loginLink = document.getElementById('login-link');
        const logoutLink = document.getElementById('logout-link');
        const userInfo = document.getElementById('user-info');
        
        loginLink.style.display = 'block';
        logoutLink.style.display = 'none';
        userInfo.style.display = 'none';
      }

      // Manipular logout
      document.getElementById('logout-link').addEventListener('click', (e) => {
        e.preventDefault();
        localStorage.removeItem('token');
        window.location.href = 'index.html';
      });

      // Verificar status de autentica√ß√£o ao carregar a p√°gina
      checkAuth();
    </script>
    <script src="js/chatbot.js"></script>
  </body>
</html>
